version: '3'
services:
  tor1:
    image: torserver:latest
  tor2:
    image: torserver:latest
  tor3:
    image: torserver:latest
  tor4:
    image: torserver:latest
  tor5:
    image: torserver:latest
  tor6:
    image: torserver:latest
  tor7:
    image: torserver:latest
  tor8:
    image: torserver:latest
  tor9:
    image: torserver:latest
  tor10:
    image: torserver:latest
  proxy:
    image: nginx:latest
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    ports:
      - "9050:80"
    links:
      - tor1
      - tor2
      - tor3
      - tor4
      - tor5
      - tor6
      - tor7
      - tor8
      - tor9
      - tor10
